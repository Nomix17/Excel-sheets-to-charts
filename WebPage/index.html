<html>
  <head>
    <link rel="stylesheet" href="style.css">
    <script src="https://cdn.jsdelivr.net/npm/xlsx@0.18.5/dist/xlsx.full.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels"></script>
    <script src="main.js" defer></script>
  </head>
  <body>
    <div id="topDivContainer">
      <div class="upload-section">
        <label for="upload"><img src="file-upload.png"></img>&ensp; Uploader Un Nouveau Fichier</label>
        <input type="file" id="upload" accept=".xlsx, .xls">
      </div>
    </div>
    <div class="kpi-section">
      <div class="kpi-card">
        <h3>üí∞ CA Total</h3>
        <div class="kpi-value" id="ca-total">0 DH</div>
      </div>

      <div class="kpi-card">
        <h3>üèÜ Meilleur Commercial</h3>
        <div class="kpi-value" id="top-commercial-name">-</div>
      </div>

      <div class="kpi-card">
        <h3>üìä CA par Service</h3>
        <div class="service-breakdown" id="service-breakdown">
          <div class="kpi-subtitle">Aucune donn√©e disponible</div>
        </div>
      </div>
    </div>

    <div id="div-filters">

      <div class="div-select">
        <p>S√©lectionner un Client: </p>
        <div class="inputDiv">
          <input placeholder="Tous Les Clients" name="Client" id="select-clientName"></input>
          <button onclick="clearInput(this)" class="clearInputButton">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24"
                   fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                  <line x1="18" y1="6" x2="6" y2="18" />
                  <line x1="6" y1="6" x2="18" y2="18" />
            </svg>
          </button>
        </div>
        <span class="span-unvalid-value">Client non valide</span>
        <div style="display:none" id="div-Client-dropDown">
        </div>
      </div>

      <div class="div-select">
         <p>S√©lectionner un Commercial:</p>
        <div class="inputDiv">
          <input placeholder="Tous Les Commerciaux" name="Commercial" id="select-Comercial">
          <button onclick="clearInput(this)" class="clearInputButton">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24"
                   fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                  <line x1="18" y1="6" x2="6" y2="18" />
                  <line x1="6" y1="6" x2="18" y2="18" />
            </svg>
          </button>
        </div>
        <span class="span-unvalid-value">Commercial non valide</span>
        <div style="display:none" id="div-Commercial-dropDown">
        </div>
        </input>
      </div>

      <div class="div-select">
        <p>S√©lectionner un Service:</p>
        <div class="inputDiv">
          <input placeholder="Tous Les Services" name="Service" id="select-Service">
          <button onclick="clearInput(this)" class="clearInputButton">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24"
                   fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                  <line x1="18" y1="6" x2="6" y2="18" />
                  <line x1="6" y1="6" x2="18" y2="18" />
            </svg>
          </button>
        </div>
        <span class="span-unvalid-value">Service non valide</span>
        <div style="display:none" id="div-Service-dropDown">
        </div>
        </input>
      </div>

      <div class="div-select">
        <p>S√©lectionner un Dossier:</p>
        <div class="inputDiv">
          <input placeholder="Tous Les Dossier" name="Dossier" id="select-Dossier">
          <button onclick="clearInput(this)" class="clearInputButton">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24"
                   fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                  <line x1="18" y1="6" x2="6" y2="18" />
                  <line x1="6" y1="6" x2="18" y2="18" />
            </svg>
          </button>
        </div>
        <span class="span-unvalid-value">Dossier non valide</span>
        <div style="display:none" id="div-Dossier-dropDown">
        </div>
        </input>
      </div>

      <div class="div-select">
        <p>De la Date:</p>
        <input type="date" name="Date de facturation" id="select-FromDate"></input>
      </div>

      <div class="div-select">
        <p>A la Date:</p>
        <input type="date" name="Date de facturation" id="select-ToDate"></input>
      </div>
      <div id="div-graph-options">
        <p>Param√®tres de Graph:</p>

        <select id="select-inRelationOf">
          <option value="all">Tous les param√®tres</option>
          <option value="all in one">Tout-en-un</option>
          <option value="Client">Clients</option>
          <option value="Commercial">Commerciaux</option>
          <option value="Service">Services</option>
          <option value="Dossier">Dossiers</option>
          <option value="Date de facturation">Date de facturation</option>
        </select>

      </div>
      <div id="div-graph-options">
        <p>Type de Graph:</p>

        <select id="select-graphType">
          <option value="bar">Barre</option>
          <option value="bar-h">Barre horizontale</option>
          <option value="line">Ligne</option>
          <option value="doughnut">Anneau</option>
          <option value="pie">Camembert</option>
        </select>
      </div>
      <div id="div-buttons">
        <button style="background-color:rgba(0,0,0,0.8)" onclick="resetFilters()">R√©initialiser</button>
        <button style="background-color:#3b82f6" onclick="createChartUsingFilters()">Confirmer</button>
      </div>
    </div>

    <div id="div-graph"></div>
  </body>
</html>
